!function(){function t(t){function n(n,o){t.forEach(["bind","diff","unbind","update"],function(t){var i=n[t];n[t]=function(){var n=o[t].apply(this,arguments);i.apply(this,arguments),n.apply(this,arguments)}})}var o={install:function(o){var i=o.directive("for"),e=t.clone(i);e.params=e.params.concat("options","root"),n(e,{bind:function(){return parent=this.params.root?document.getElementById(this.params.root):this.el.parentElement,function(){function n(t){return t.__v_frag.raw}var o={layoutMode:"masonry",itemSelector:".item",masonry:{gutter:10}},i=this,e=this.params.options,r=t.isString(e)?JSON.parse(e):e,s=r.getSortData;t.forOwn(s,function(n,o){t.isString(n)&&(s[o]=function(t){return t[n]})}),this.isotopeSortOptions=t.clone(s);var e=t.defaults(r,o),a=e.getSortData;t.forOwn(a,function(t,o){a[o]=function(i){var e=t(n(i));return console.log(o,i,e),e}});var u=e.filter;t.forOwn(u,function(t,o){u[o]=function(o){return t(n(o))}}),this.vm.$nextTick(function(){var n=new Isotope(parent,e);i._iso=n,parent._iso=n,t.assign(i.vm,{isotopeSort:function(t){n.arrange({sortBy:t})},isotopeFilter:function(t){n.arrange({filterBy:t})},isotopeShuttle:function(){n.shuffle()},isotopeArrange:function(){n.arrange(arguments)}})})}},update:function(n){return t.forEach(this._listeners,function(t){t()}),function(){var o=this.vm,i=this;this.vm.$nextTick(function(){i._listeners=t(i.isotopeSortOptions).map(function(e){return t.map(n,function(t){return o.$watch(function(){return e(t)},function(){i._iso.reloadItems(),i._iso.arrange()})})}).flatten().value()})}},diff:function(){function n(t){return t.node}var o=t.map(this.frags,n);return function(){var i=this._iso;if(i){var e=t.map(this.frags,n),r=t.difference(e,o),s=t.difference(o,e);(s.length||r.length)&&this.vm.$nextTick(function(){i.remove(s),i.insert(r),i.layout()})}}},unbind:function(){return function(){t.forEach(this._listeners,function(t){t()}),this._iso.destroy()}}}),o.directive("isotope-for",e)}};return o}if("object"==typeof exports){var n=require("lodash.js");module.exports=t(n)}else"function"==typeof define&&define.amd?define(["lodash"],function(n){return t(n)}):window.Vue&&window._&&(window.vueIsotope=t(window._),Vue.use(window.vueIsotope))}();