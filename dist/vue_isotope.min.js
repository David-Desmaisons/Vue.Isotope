"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t,e){function i(t,e){var i=void 0===t.data.staticClass?"":t.data.staticClass+" ";t.data.staticClass=i+e}function n(t){return t.__underlying_element}var o={options:{type:Object,"default":{layoutMode:"masonry",masonry:{gutter:10}},sort:String},itemSelector:{type:String,"default":"item"},list:{type:Array,required:!0}},r={props:o,render:function(t){var e=this,n=this.$slots["default"]||[];return n.forEach(function(t){return i(t,e.itemSelector)}),t("div",null,n)},mounted:function(){var i=this,o=t.merge({},this.compiledOptions),r=function(e){t.forOwn(e,function(t,o){e[o]=function(e){var o=n(e);return t.call(i,o.vm,o.index)}})};r(o.getSortData),r(o.getFilterData),this.$nextTick(function(){i._isotopeOptions=o,i.link(!0),i.listen();var t=new e(i.$el,o);t._requestUpdate=function(){t._willUpdate||(t._willUpdate=!0,i.$nextTick(function(){t.arrange(),t._willUpdate=!1}))},i.iso=t})},beforeDestroy:function(){this.iso.destroy(),t.forEach(this._listeners,function(t){t()}),this._filterlistener&&this._filterlistener()},beforeUpdate:function(){this._oldChidren=Array.prototype.slice.call(this.$el.children)},updated:function(){var e=Array.prototype.slice.call(this.$el.children),i=t.difference(e,this._oldChidren),n=t.difference(this._oldChidren,e);this.link(!1),(n.length||i.length)&&(this.listen(),this.iso.remove(n),this.iso.insert(i),this.iso._requestUpdate())},methods:{link:function(t){var e=this,i=this.$slots["default"]||[];i.forEach(function(t,i){var n=t.elm;n&&(n.__underlying_element={vm:e.list[i],index:i})})},listen:function(){var e=this;this._listeners=t(this.compiledOptions.getSortData).map(function(i){return t.map(e.list,function(t,n){return e.$watch(function(){return i(t)},function(){e.iso.updateSortData(),e.iso._requestUpdate()})})}).flatten().value()},sort:function(t){this.arrange({sortBy:t}),this.$emit("sort",t)},filter:function s(e){var i=this,s=this._isotopeOptions.getFilterData[e];this._filterlistener=this.$watch(function(){return t.map(i.list,function(t,n){return i.options.getFilterData[e](t,n)})},function(){i.iso._requestUpdate()}),this.arrange({filter:s}),this.$emit("filter",e)},unfilter:function(){this.arrange({filter:function(){return!0}}),this.$emit("filter",null)},layout:function(t){this.arrange({layoutMode:t}),this.$emit("layout",t)},arrange:function(t){this.iso.arrange(t),this.$emit("arrange",t)},shuffle:function(){this.iso.shuffle(),this.$emit("shuffle"),this.$emit("sort",null)}},computed:{compiledOptions:function(){var e=t.merge({},this.options,{itemSelector:"."+this.itemSelector});return t.forOwn(e.getSortData,function(i,n){t.isString(i)&&(e.getSortData[n]=function(t){return t[i]})}),e}}};return r}if (typeof exports == "object"){var e=require("lodash"),i=require("isotope-layout");module.exports=t(e,i)}else if("function"==typeof define&&define.amd)define(["lodash","Isotope"],function(e,i){return t(e,i)});else if(window.Vue&&window._&&window.Isotope){var n=t(window._,window.Isotope);Vue.component("isotope",n)}}();